/* site/css/site.css
   Global site styles + wallpaper logic
   - Small cells = default (Home + section index pages)
   - Large cells = wiki child pages only: body.wallpaper.wiki:not(.section-index)
*/

/* ---- Theme tokens ------------------------------------------------------- */
:root{
  --ink:#0f172a;
  --muted:#6b7280;
  --ring:#e5e7eb;
  --cardbg:rgba(255,255,255,.92);
  --chip:#eef3ff;

  --header-bg:rgba(255,255,255,.92);
  --header-border:#e5e7eb;
  --link:#166534;         /* green used on home nav */
  --link-hover:#0f4f29;
}

/* ---- Base --------------------------------------------------------------- */
html,body{ margin:0; padding:0; }
body{ color:var(--ink); background-color:#ffffff; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; }
a{ color:var(--link); text-decoration:none; }
a:hover{ color:var(--link-hover); text-decoration:underline; }

/* Wiki flag just controls text color layer-wise */
body.wiki{ color:var(--ink); }

/* ---- Wallpaper on BODY only -------------------------------------------- */
/* Default = SMALL cells everywhere */
body.wallpaper{
  background-image:url("/img/Wallpaper.svg");
  background-repeat:repeat;
  background-attachment:fixed;
  background-color:#ffffff;
  background-size:320px auto;   /* small cells (Home + section index pages) */
}

/* Large cells ONLY on wiki child pages (no .section-index class) */
body.wallpaper.wiki:not(.section-index){
  background-size:640px auto;
}

/* ---- Layout helpers ----------------------------------------------------- */
.wrap{ max-width:1120px; margin:0 auto; padding:24px 16px; }

/* ---- Global site header (matches homepage) ------------------------------ */
.site-header{
  position:sticky; top:0; z-index:30;
  background:var(--header-bg);
  backdrop-filter:saturate(140%) blur(6px);
  border-bottom:1px solid var(--header-border);
}
.site-header .container{
  max-width:1120px; margin:0 auto; padding:12px 16px;
  display:flex; align-items:center; gap:18px;
}
.brand{ display:flex; align-items:center; gap:10px; color:var(--ink); }
.brand-logo{ width:28px; height:auto; display:block; }
.brand-text{ font-weight:600; }
.nav{ margin-left:auto; display:flex; gap:18px; flex-wrap:wrap; }
.nav a{ color:var(--link); font-weight:600; }
.nav a:hover{ color:var(--link-hover); text-decoration:none; }

/* ---- Typography --------------------------------------------------------- */
h1{ font-size:2.2rem; margin:.8rem 0 1rem; }
.lede{ font-size:1.125rem; line-height:1.6; margin:.25rem 0 1rem; }
.muted{ color:var(--muted); }

/* ---- Content utilities (used by wiki too) ------------------------------- */
.notice{ padding:.9rem 1rem; border-left:4px solid #84cc16; background:#f7fee7; border-radius:6px; margin:1rem 0 1.2rem; }

.toc{ list-style:none; padding:0; margin:.4rem 0 0; }
.toc li{ margin:.25rem 0; }

.divider{ height:1px; background:var(--ring); margin:1.25rem 0; }

.grid{ display:grid; gap:16px; }
.cols-3{ grid-template-columns:repeat(3,minmax(0,1fr)); }
.cols-2{ grid-template-columns:repeat(2,minmax(0,1fr)); }
@media (max-width:980px){ .cols-3{ grid-template-columns:1fr 1fr } }
@media (max-width:680px){ .cols-3,.cols-2{ grid-template-columns:1fr } }

.card{ background:var(--cardbg); border-radius:14px; padding:16px 18px; box-shadow:0 8px 28px rgba(0,0,0,.06); border:1px solid var(--ring); }
.card h3{ margin:.1rem 0 .25rem; font-size:1.05rem; }

.list{ list-style:none; margin:.5rem 0 0; padding:0; }
.list li{ margin:.25rem 0; }

.chip{ display:inline-block; background:var(--chip); padding:.18rem .5rem; border-radius:999px; font-size:.82rem; margin-left:.45rem; }

.crumbs{ display:flex; gap:.5rem; flex-wrap:wrap; font-size:.92rem; }
.crumbs a{ text-decoration:none; }
